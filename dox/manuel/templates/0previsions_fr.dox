/**
\page Previsions Prévisions de passage

L'onglet <b>Prévisions</b> permet d'effectuer les prévisions de passage d'un ou plusieurs satellites au-dessus d'un lieu d'observation donné.

\image html previsions.png

Il est nécessaire de renseigner les dates et heures initiales et finales, le pas de génération ainsi que le lieu d'observation. Par défaut, la date initiale est la date courante et l'heure initiale est l'heure courante arrondie à la minute; la date finale par défaut est la date initiale augmentée de 7 jours. Le pas de génération est initialement fixé à une minute.	

Il est possible de tenir compte de la magnitude du satellite en cochant la case Magnitude maximale et en indiquant la magnitude souhaitée. Cette option ne s'appliquera que pour les satellites dont la magnitude standard est connue.	

Ensuite, il est possible de régler la hauteur minimale que doit avoir le satellite pour le calcul des prévisions de passages (par exemple, si l'horizon de votre lieu d'observation est masqué par un bâtiment, une montagne ou la pollution lumineuse urbaine). Si vous choisissez 'Autre' dans la liste déroulante, vous êtes alors invité à saisir une valeur entière positive dans le champ texte adjacent.	

De même, il est possible de paramétrer la hauteur du Soleil suivant les critères suivants : 
<ul>
<li>Horizon (0°),
<li>Crépuscule civil (-6°), valeur par défaut,
<li>Crépuscule nautique (-12°),
<li>Crépuscule astronomique (-18°),
<li>Indifférent, tous les passages seront affichés, y compris ceux de jour,
<li>Autre..., vous êtes alors invité à saisir une valeur entière comprise entre -90° et +90° dans la zone de texte adjacente.
</ul>

Par défaut, la liste de satellites dédiée aux prévisions est pré-remplie avec les satellites de la liste principale. Il est possible d'en ajouter ou d'en supprimer. En cliquant droit sur la liste, on peut cocher ou décocher tous les satellites. Il suffit ensuite de cliquer sur le bouton Calcul pour lancer la recherche.

Une fois les calculs terminés, un message explicite apparaît dans la barre des tâches et la fenêtre de résultats apparaît.

\image html resultats-previsions.png

Le tableau à gauche résume chaque passage de satellite avec les informations les plus importantes. En cliquant sur une ligne du tableau, on affiche le passage correspondant sur la carte du ciel. En double cliquant sur une ligne du tableau, une petite fenêtre avec davantage d'informations apparaît.

Il est possible de sauvegarder un passage sous forme d'image (passage sélectionné avec la carte du ciel associée), ou bien de sauvegarder tous les passages calculés sous forme de fichier texte, présenté de la manière suivante.

\htmlonly
<div style="border: 1px solid grey; padding: 10px">
<center><b>Calcul pour l'ISS et pour un jour seulement</b></center>
<font size="2">
<pre>
PreviSat VERSION_PREVISAT / Astropedia (c) ANNEES_DEV

Lieu d'observation        : Paris      002°20'55" Est    48°51'12" Nord   30 m
Fuseau horaire            : UTC + 02:00
Conditions d'observations : Hauteur maximale du Soleil = -6°
                            Hauteur minimale du satellite = 0°
Unité de distance         : km

Age du TLE                : 0.12 jours (au 30/05/2014 07:54:00)


ISS
   Date      Heure   Azimut Sat Hauteur Sat  AD Sat    Decl Sat  Const Magn  Altitude  Distance  Az Soleil   Haut Soleil
2014/05/30 23:27:00  084°05'02"  00°28'42"  20h26m14s +04°14'59"  Del  +9.9*    417.4    2347.7  326°39'55"  -12°35'54"

2014/05/31 01:00:00  105°20'41"  31°55'49"  19h33m45s +14°30'24"  Aql  -1.0*    417.5     735.6  348°12'46"  -18°28'06"
2014/05/31 01:01:00  086°22'39"  19°31'45"  21h01m43s +16°54'45"  Del  +0.1*    417.9    1040.1  348°27'17"  -18°30'05"
2014/05/31 01:02:00  078°02'33"  11°23'20"  21h50m24s +16°24'00"  Peg  +1.3     418.3    1409.7  348°41'49"  -18°32'02"
2014/05/31 01:03:00  073°35'26"  05°47'59"  22h20m30s +15°07'51"  Peg  +3.1     418.6    1803.8  348°56'22"  -18°33'56"
2014/05/31 01:04:00  070°52'48"  01°39'27"  22h41m05s +13°43'20"  Peg  +6.9     418.8    2208.0  349°10'55"  -18°35'48"

2014/05/31 02:33:00  268°08'57"  14°31'46"  12h00m16s +09°41'30"  Vir  +0.7*    417.6    1242.5  010°57'29"  -18°34'11"
2014/05/31 02:34:00  274°33'19"  25°36'50"  12h14m41s +21°52'47"  Com  -0.5*    418.0     864.3  011°12'02"  -18°32'17"
2014/05/31 02:35:00  294°38'41"  46°48'58"  12h50m25s +47°27'48"  CVn  -1.7     418.3     559.1  011°26'34"  -18°30'21"
2014/05/31 02:36:00  018°13'56"  57°08'34"  20h22m37s +76°19'11"  Cep  -2.0     418.6     492.1  011°41'06"  -18°28'22"
2014/05/31 02:37:00  056°17'25"  32°15'46"  23h20m52s +45°17'49"  And  -0.9     418.9     732.3  011°55'37"  -18°26'20"
2014/05/31 02:38:00  065°34'18"  18°09'00"  23h45m10s +29°32'52"  Peg  +0.4     419.0    1092.4  012°10'07"  -18°24'16"
2014/05/31 02:39:00  069°36'03"  10°09'22"  23h57m15s +21°00'37"  Peg  +1.7     419.1    1486.8  012°24'37"  -18°22'10"
2014/05/31 02:40:00  071°54'29"  04°47'29"  00h05m45s +15°27'26"  Peg  +3.7     419.2    1893.1  012°39'06"  -18°20'01"
2014/05/31 02:41:00  073°26'55"  00°51'47"  00h12m22s +11°27'54"  Psc  +8.8     419.2    2303.7  012°53'35"  -18°17'50"

2014/05/31 04:08:00  285°00'21"  03°05'10"  12h13m54s +12°09'39"  Vir  +4.9     418.4    2053.4  033°00'47"  -12°42'00"
2014/05/31 04:09:00  287°27'45"  07°47'22"  12h19m58s +17°19'08"  Com  +2.3     418.7    1647.3  033°13'56"  -12°36'37"
2014/05/31 04:10:00  291°28'58"  14°25'19"  12h27m17s +24°53'35"  Com  +0.9     418.9    1250.8  033°27'03"  -12°31'11"
2014/05/31 04:11:00  299°31'38"  25°04'25"  12h37m47s +37°47'43"  CVn  -0.3     419.1     879.5  033°40'10"  -12°25'43"
2014/05/31 04:12:00  322°42'32"  43°47'43"  13h07m26s +64°01'42"  Dra  -1.4     419.1     586.7  033°53'15"  -12°20'14"
2014/05/31 04:13:00  033°08'11"  51°12'19"  23h40m31s +68°46'01"  Cep  -1.7     419.2     527.6  034°06'20"  -12°14'42"
2014/05/31 04:14:00  070°59'20"  30°44'58"  00h22m16s +34°41'45"  And  -0.7     419.1     759.1  034°19'23"  -12°09'09"
2014/05/31 04:15:00  082°10'11"  17°38'26"  00h33m51s +18°16'41"  Psc  +0.5     419.0    1112.0  034°32'26"  -12°03'34"
2014/05/31 04:16:00  087°10'57"  09°54'19"  00h41m36s +09°17'17"  Psc  +1.9     418.9    1502.2  034°45'27"  -11°57'57"
2014/05/31 04:17:00  090°03'42"  04°38'06"  00h48m02s +03°26'53"  Psc  +3.9     418.7    1905.8  034°58'27"  -11°52'18"
2014/05/31 04:18:00  091°58'14"  00°45'31"  00h53m30s -00°43'30"  Cet  +9.3     418.5    2314.6  035°11'26"  -11°46'37"

Temps écoulé : 0.01s 
</pre>
</font>
</div>
\endhtmlonly

Nous rappelons en tête du fichier de résultat le lieu d'observation, le fuseau horaire, ainsi que les conditions d'observation choisies (ici, les conditions par défaut).

Nous affichons ensuite pour chaque satellite la liste de ses passages (ici 4 passages), séparés les uns des autres par un saut de ligne. Chaque passage est constitué comme nous pouvons le voir de la date et de l'heure, suivies de ses caractéristiques. Tout d'abord, l'azimut et la hauteur du satellite, puis l'ascension droite, la déclinaison et la constellation. Si la magnitude standard du satellite est connue, la magnitude visuelle est alors calculée au moyen de la formule suivante :

\image html magnitude.png

où d est la distance observateur - satellite et I l'illumination. La magnitude est parfois suivie d'un astérisque, signifiant que le satellite se trouve dans la pénombre de la Terre. Si la magnitude standard du satellite n'est pas connue, la colonne Magnitude ne contient que des points d'interrogations (????). Dans le cas où l'illumination du satellite n'est pas requise, pour les instants où le satellite est dans l'ombre de la Terre, la colonne Magnitude ne comporte que des tirets (----).

Sont ensuite données l'altitude et la distance du satellite, puis les coordonnées horizontales du Soleil (azimut et hauteur).

Les satellites non visibles pendant la période de recherche ne sont pas mentionnés dans le fichier résultat.

Il est enfin précisé le temps nécessaire pour effectuer la recherche. Ce temps dépend notamment de la machine et de la disponibilité de ses ressources, ainsi que de l'algorithme de recherche. Il est allongé si l'on choisit pour la recherche un intervalle de temps long et/ou un pas de calcul court et/ou un grand nombre de satellites.


*/